<div class="container" *ngIf="game">
  <h2 class="title">{{game.name}}</h2>

  <div style="display:flex; gap:24px">
    <div style="flex:1">
      <div class="card">
        <p><strong>Categoria:</strong> {{game.category}}</p>
        <p><strong>Data início:</strong> {{game.startDate}}</p>
        <p *ngIf="game.endDate"><strong>Data fim:</strong> {{game.endDate}}</p>
        <p style="margin-top:8px">{{game.description}}</p>

        <div style="margin-top:12px">
          <div class="small">Avaliar:</div>
          <div style="display:flex; gap:6px; margin-top:6px">
            <button class="btn" (click)="rate(1)">⭐</button>
            <button class="btn" (click)="rate(2)">⭐⭐</button>
            <button class="btn" (click)="rate(3)">⭐⭐⭐</button>
            <button class="btn" (click)="rate(4)">⭐⭐⭐⭐</button>
            <button class="btn" (click)="rate(5)">⭐⭐⭐⭐⭐</button>
          </div>

          <div style="margin-top:10px">Média: <span class="rating">{{gs.avgRating(game)}}</span></div>
        </div>
      </div>
    </div>

    <div style="width:360px">
      <div class="card">
        <h3>Comentários</h3>
        <div *ngFor="let c of comments" style="margin-bottom:8px">
          <div class="small">{{c.date | date:'short'}}</div>
          <div>{{c.text}}</div>
        </div>

        <div style="margin-top:8px">
          <textarea class="input" rows="3" [(ngModel)]="newComment"></textarea>
          <div style="margin-top:6px; display:flex; gap:6px">
            <button class="btn btn-primary" (click)="sendComment()">Enviar</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
